463
0 root (MethodDeclaration)
1 body (BlockStmt)
2 statements
3 statement (ExpressionStmt)
4 expression (MethodCallExpr)
5 name (SimpleName)
6 identifier='setDateFactoryInstance'
7 scope (NameExpr)
8 name (SimpleName)
9 identifier='BillingIntegrationTestBase'
10 arguments
11 argument (StringLiteralExpr)
12 value='2013-02-01 00:00:00'
13 statement (ExpressionStmt)
14 expression (VariableDeclarationExpr)
15 variables
16 variable (VariableDeclarator)
17 initializer (MethodCallExpr)
18 name (SimpleName)
19 identifier='createPublishAndActivateMarketableService'
20 scope (NameExpr)
21 name (SimpleName)
22 identifier='serviceSetup'
23 arguments
24 argument (MethodCallExpr)
25 name (SimpleName)
26 identifier='getSupplierAdminKey'
27 scope (NameExpr)
28 name (SimpleName)
29 identifier='basicSetup'
30 argument (StringLiteralExpr)
31 value='PARCHARGE_PU_WEEK_ASSIGN2'
32 argument (FieldAccessExpr)
33 name (SimpleName)
34 identifier='EXAMPLE'
35 scope (NameExpr)
36 name (SimpleName)
37 identifier='TestService'
38 argument (FieldAccessExpr)
39 name (SimpleName)
40 identifier='EXAMPLE_PERUNIT_WEEK_ROLES_PARS'
41 scope (NameExpr)
42 name (SimpleName)
43 identifier='TestPriceModel'
44 argument (NameExpr)
45 name (SimpleName)
46 identifier='technicalService'
47 argument (NameExpr)
48 name (SimpleName)
49 identifier='supplierMarketplace'
50 name (SimpleName)
51 identifier='serviceDetails'
52 type (ClassOrInterfaceType)
53 name (SimpleName)
54 identifier='VOServiceDetails'
55 statement (ExpressionStmt)
56 expression (MethodCallExpr)
57 name (SimpleName)
58 identifier='setCutOffDay'
59 arguments
60 argument (MethodCallExpr)
61 name (SimpleName)
62 identifier='getSupplierAdminKey'
63 scope (NameExpr)
64 name (SimpleName)
65 identifier='basicSetup'
66 argument (IntegerLiteralExpr)
67 value='1'
68 statement (ExpressionStmt)
69 expression (VariableDeclarationExpr)
70 variables
71 variable (VariableDeclarator)
72 initializer (MethodCallExpr)
73 name (SimpleName)
74 identifier='getRole'
75 scope (NameExpr)
76 name (SimpleName)
77 identifier='VOServiceFactory'
78 arguments
79 argument (NameExpr)
80 name (SimpleName)
81 identifier='serviceDetails'
82 argument (StringLiteralExpr)
83 value='ADMIN'
84 name (SimpleName)
85 identifier='role'
86 type (ClassOrInterfaceType)
87 name (SimpleName)
88 identifier='VORoleDefinition'
89 statement (ExpressionStmt)
90 expression (MethodCallExpr)
91 name (SimpleName)
92 identifier='login'
93 scope (NameExpr)
94 name (SimpleName)
95 identifier='container'
96 arguments
97 argument (MethodCallExpr)
98 name (SimpleName)
99 identifier='getCustomerAdminKey'
100 scope (NameExpr)
101 name (SimpleName)
102 identifier='basicSetup'
103 argument (NameExpr)
104 name (SimpleName)
105 identifier='ROLE_ORGANIZATION_ADMIN'
106 statement (ExpressionStmt)
107 expression (VariableDeclarationExpr)
108 variables
109 variable (VariableDeclarator)
110 initializer (MethodCallExpr)
111 name (SimpleName)
112 identifier='subscribeToService'
113 scope (NameExpr)
114 name (SimpleName)
115 identifier='subscrSetup'
116 arguments
117 argument (StringLiteralExpr)
118 value='PARCHARGE_PU_WEEK_ASSIGN2'
119 argument (NameExpr)
120 name (SimpleName)
121 identifier='serviceDetails'
122 argument (MethodCallExpr)
123 name (SimpleName)
124 identifier='getCustomerUser1'
125 scope (NameExpr)
126 name (SimpleName)
127 identifier='basicSetup'
128 argument (NameExpr)
129 name (SimpleName)
130 identifier='role'
131 name (SimpleName)
132 identifier='subDetails'
133 type (ClassOrInterfaceType)
134 name (SimpleName)
135 identifier='VOSubscriptionDetails'
136 statement (ExpressionStmt)
137 expression (MethodCallExpr)
138 name (SimpleName)
139 identifier='setDateFactoryInstance'
140 scope (NameExpr)
141 name (SimpleName)
142 identifier='BillingIntegrationTestBase'
143 arguments
144 argument (MethodCallExpr)
145 name (SimpleName)
146 identifier='calculateMillis'
147 scope (NameExpr)
148 name (SimpleName)
149 identifier='DateTimeHandling'
150 arguments
151 argument (StringLiteralExpr)
152 value='2013-02-04 00:00:00'
153 statement (ExpressionStmt)
154 expression (AssignExpr)
155 operator='ASSIGN'
156 target (NameExpr)
157 name (SimpleName)
158 identifier='subDetails'
159 value (MethodCallExpr)
160 name (SimpleName)
161 identifier='modifyUserRole'
162 scope (NameExpr)
163 name (SimpleName)
164 identifier='subscrSetup'
165 arguments
166 argument (MethodCallExpr)
167 name (SimpleName)
168 identifier='get'
169 scope (MethodCallExpr)
170 name (SimpleName)
171 identifier='getUsageLicenses'
172 scope (NameExpr)
173 name (SimpleName)
174 identifier='subDetails'
175 arguments
176 argument (IntegerLiteralExpr)
177 value='0'
178 argument (MethodCallExpr)
179 name (SimpleName)
180 identifier='getRole'
181 scope (NameExpr)
182 name (SimpleName)
183 identifier='VOServiceFactory'
184 arguments
185 argument (NameExpr)
186 name (SimpleName)
187 identifier='serviceDetails'
188 argument (StringLiteralExpr)
189 value='USER'
190 argument (MethodCallExpr)
191 name (SimpleName)
192 identifier='getSubscriptionId'
193 scope (NameExpr)
194 name (SimpleName)
195 identifier='subDetails'
196 statement (ExpressionStmt)
197 expression (AssignExpr)
198 operator='ASSIGN'
199 target (NameExpr)
200 name (SimpleName)
201 identifier='subDetails'
202 value (MethodCallExpr)
203 name (SimpleName)
204 identifier='modifyParameterForSubscription'
205 scope (NameExpr)
206 name (SimpleName)
207 identifier='subscrSetup'
208 arguments
209 argument (NameExpr)
210 name (SimpleName)
211 identifier='subDetails'
212 argument (MethodCallExpr)
213 name (SimpleName)
214 identifier='calculateMillis'
215 scope (NameExpr)
216 name (SimpleName)
217 identifier='DateTimeHandling'
218 arguments
219 argument (StringLiteralExpr)
220 value='2013-02-04 00:00:00'
221 argument (StringLiteralExpr)
222 value='MAX_FOLDER_NUMBER'
223 argument (StringLiteralExpr)
224 value='2'
225 statement (ExpressionStmt)
226 expression (MethodCallExpr)
227 name (SimpleName)
228 identifier='setDateFactoryInstance'
229 scope (NameExpr)
230 name (SimpleName)
231 identifier='BillingIntegrationTestBase'
232 arguments
233 argument (MethodCallExpr)
234 name (SimpleName)
235 identifier='calculateMillis'
236 scope (NameExpr)
237 name (SimpleName)
238 identifier='DateTimeHandling'
239 arguments
240 argument (StringLiteralExpr)
241 value='2013-02-10 00:00:00'
242 statement (ExpressionStmt)
243 expression (AssignExpr)
244 operator='ASSIGN'
245 target (NameExpr)
246 name (SimpleName)
247 identifier='subDetails'
248 value (MethodCallExpr)
249 name (SimpleName)
250 identifier='revokeUser'
251 scope (NameExpr)
252 name (SimpleName)
253 identifier='subscrSetup'
254 arguments
255 argument (MethodCallExpr)
256 name (SimpleName)
257 identifier='getCustomerUser1'
258 scope (NameExpr)
259 name (SimpleName)
260 identifier='basicSetup'
261 argument (MethodCallExpr)
262 name (SimpleName)
263 identifier='getSubscriptionId'
264 scope (NameExpr)
265 name (SimpleName)
266 identifier='subDetails'
267 statement (ExpressionStmt)
268 expression (AssignExpr)
269 operator='ASSIGN'
270 target (NameExpr)
271 name (SimpleName)
272 identifier='subDetails'
273 value (MethodCallExpr)
274 name (SimpleName)
275 identifier='modifyParameterForSubscription'
276 scope (NameExpr)
277 name (SimpleName)
278 identifier='subscrSetup'
279 arguments
280 argument (NameExpr)
281 name (SimpleName)
282 identifier='subDetails'
283 argument (MethodCallExpr)
284 name (SimpleName)
285 identifier='calculateMillis'
286 scope (NameExpr)
287 name (SimpleName)
288 identifier='DateTimeHandling'
289 arguments
290 argument (StringLiteralExpr)
291 value='2013-02-11 00:00:00'
292 argument (StringLiteralExpr)
293 value='MAX_FOLDER_NUMBER'
294 argument (StringLiteralExpr)
295 value='7'
296 statement (ExpressionStmt)
297 expression (AssignExpr)
298 operator='ASSIGN'
299 target (NameExpr)
300 name (SimpleName)
301 identifier='subDetails'
302 value (MethodCallExpr)
303 name (SimpleName)
304 identifier='modifyParameterForSubscription'
305 scope (NameExpr)
306 name (SimpleName)
307 identifier='subscrSetup'
308 arguments
309 argument (NameExpr)
310 name (SimpleName)
311 identifier='subDetails'
312 argument (MethodCallExpr)
313 name (SimpleName)
314 identifier='calculateMillis'
315 scope (NameExpr)
316 name (SimpleName)
317 identifier='DateTimeHandling'
318 arguments
319 argument (StringLiteralExpr)
320 value='2013-02-19 18:00:00'
321 argument (StringLiteralExpr)
322 value='MAX_FOLDER_NUMBER'
323 argument (StringLiteralExpr)
324 value='10'
325 statement (ExpressionStmt)
326 expression (MethodCallExpr)
327 name (SimpleName)
328 identifier='setDateFactoryInstance'
329 scope (NameExpr)
330 name (SimpleName)
331 identifier='BillingIntegrationTestBase'
332 arguments
333 argument (MethodCallExpr)
334 name (SimpleName)
335 identifier='calculateMillis'
336 scope (NameExpr)
337 name (SimpleName)
338 identifier='DateTimeHandling'
339 arguments
340 argument (StringLiteralExpr)
341 value='2013-02-21 12:00:00'
342 statement (ExpressionStmt)
343 expression (AssignExpr)
344 operator='ASSIGN'
345 target (NameExpr)
346 name (SimpleName)
347 identifier='subDetails'
348 value (MethodCallExpr)
349 name (SimpleName)
350 identifier='addUser'
351 scope (NameExpr)
352 name (SimpleName)
353 identifier='subscrSetup'
354 arguments
355 argument (MethodCallExpr)
356 name (SimpleName)
357 identifier='getCustomerUser1'
358 scope (NameExpr)
359 name (SimpleName)
360 identifier='basicSetup'
361 argument (MethodCallExpr)
362 name (SimpleName)
363 identifier='getRole'
364 scope (NameExpr)
365 name (SimpleName)
366 identifier='VOServiceFactory'
367 arguments
368 argument (NameExpr)
369 name (SimpleName)
370 identifier='serviceDetails'
371 argument (StringLiteralExpr)
372 value='GUEST'
373 argument (MethodCallExpr)
374 name (SimpleName)
375 identifier='getSubscriptionId'
376 scope (NameExpr)
377 name (SimpleName)
378 identifier='subDetails'
379 statement (ExpressionStmt)
380 expression (AssignExpr)
381 operator='ASSIGN'
382 target (NameExpr)
383 name (SimpleName)
384 identifier='subDetails'
385 value (MethodCallExpr)
386 name (SimpleName)
387 identifier='modifyParameterForSubscription'
388 scope (NameExpr)
389 name (SimpleName)
390 identifier='subscrSetup'
391 arguments
392 argument (NameExpr)
393 name (SimpleName)
394 identifier='subDetails'
395 argument (MethodCallExpr)
396 name (SimpleName)
397 identifier='calculateMillis'
398 scope (NameExpr)
399 name (SimpleName)
400 identifier='DateTimeHandling'
401 arguments
402 argument (StringLiteralExpr)
403 value='2013-02-23 06:00:00'
404 argument (StringLiteralExpr)
405 value='MAX_FOLDER_NUMBER'
406 argument (StringLiteralExpr)
407 value='13'
408 statement (ExpressionStmt)
409 expression (MethodCallExpr)
410 name (SimpleName)
411 identifier='setDateFactoryInstance'
412 scope (NameExpr)
413 name (SimpleName)
414 identifier='BillingIntegrationTestBase'
415 arguments
416 argument (StringLiteralExpr)
417 value='2013-03-01 00:00:00'
418 statement (ExpressionStmt)
419 expression (MethodCallExpr)
420 name (SimpleName)
421 identifier='unsubscribeToService'
422 scope (NameExpr)
423 name (SimpleName)
424 identifier='subscrSetup'
425 arguments
426 argument (MethodCallExpr)
427 name (SimpleName)
428 identifier='getSubscriptionId'
429 scope (NameExpr)
430 name (SimpleName)
431 identifier='subDetails'
432 statement (ExpressionStmt)
433 expression (MethodCallExpr)
434 name (SimpleName)
435 identifier='resetCutOffDay'
436 arguments
437 argument (MethodCallExpr)
438 name (SimpleName)
439 identifier='getSupplierAdminKey'
440 scope (NameExpr)
441 name (SimpleName)
442 identifier='basicSetup'
443 statement (ExpressionStmt)
444 expression (MethodCallExpr)
445 name (SimpleName)
446 identifier='updateSubscriptionListForTests'
447 scope (NameExpr)
448 name (SimpleName)
449 identifier='BillingIntegrationTestBase'
450 arguments
451 argument (StringLiteralExpr)
452 value='PARCHARGE_PU_WEEK_ASSIGN2'
453 argument (NameExpr)
454 name (SimpleName)
455 identifier='subDetails'
456 type (VoidType)
457 name (SimpleName)
458 identifier='createWeekScenarioParAndUserAssignChange2'
459 thrownExceptions
460 thrownException (ClassOrInterfaceType)
461 name (SimpleName)
462 identifier='Exception'
0 1
1 2
2 3
3 4
4 5
5 6
4 7
7 8
8 9
4 10
10 11
11 12
2 13
13 14
14 15
15 16
16 17
17 18
18 19
17 20
20 21
21 22
17 23
23 24
24 25
25 26
24 27
27 28
28 29
23 30
30 31
23 32
32 33
33 34
32 35
35 36
36 37
23 38
38 39
39 40
38 41
41 42
42 43
23 44
44 45
45 46
23 47
47 48
48 49
16 50
50 51
16 52
52 53
53 54
2 55
55 56
56 57
57 58
56 59
59 60
60 61
61 62
60 63
63 64
64 65
59 66
66 67
2 68
68 69
69 70
70 71
71 72
72 73
73 74
72 75
75 76
76 77
72 78
78 79
79 80
80 81
78 82
82 83
71 84
84 85
71 86
86 87
87 88
2 89
89 90
90 91
91 92
90 93
93 94
94 95
90 96
96 97
97 98
98 99
97 100
100 101
101 102
96 103
103 104
104 105
2 106
106 107
107 108
108 109
109 110
110 111
111 112
110 113
113 114
114 115
110 116
116 117
117 118
116 119
119 120
120 121
116 122
122 123
123 124
122 125
125 126
126 127
116 128
128 129
129 130
109 131
131 132
109 133
133 134
134 135
2 136
136 137
137 138
138 139
137 140
140 141
141 142
137 143
143 144
144 145
145 146
144 147
147 148
148 149
144 150
150 151
151 152
2 153
153 154
154 155
154 156
156 157
157 158
154 159
159 160
160 161
159 162
162 163
163 164
159 165
165 166
166 167
167 168
166 169
169 170
170 171
169 172
172 173
173 174
166 175
175 176
176 177
165 178
178 179
179 180
178 181
181 182
182 183
178 184
184 185
185 186
186 187
184 188
188 189
165 190
190 191
191 192
190 193
193 194
194 195
2 196
196 197
197 198
197 199
199 200
200 201
197 202
202 203
203 204
202 205
205 206
206 207
202 208
208 209
209 210
210 211
208 212
212 213
213 214
212 215
215 216
216 217
212 218
218 219
219 220
208 221
221 222
208 223
223 224
2 225
225 226
226 227
227 228
226 229
229 230
230 231
226 232
232 233
233 234
234 235
233 236
236 237
237 238
233 239
239 240
240 241
2 242
242 243
243 244
243 245
245 246
246 247
243 248
248 249
249 250
248 251
251 252
252 253
248 254
254 255
255 256
256 257
255 258
258 259
259 260
254 261
261 262
262 263
261 264
264 265
265 266
2 267
267 268
268 269
268 270
270 271
271 272
268 273
273 274
274 275
273 276
276 277
277 278
273 279
279 280
280 281
281 282
279 283
283 284
284 285
283 286
286 287
287 288
283 289
289 290
290 291
279 292
292 293
279 294
294 295
2 296
296 297
297 298
297 299
299 300
300 301
297 302
302 303
303 304
302 305
305 306
306 307
302 308
308 309
309 310
310 311
308 312
312 313
313 314
312 315
315 316
316 317
312 318
318 319
319 320
308 321
321 322
308 323
323 324
2 325
325 326
326 327
327 328
326 329
329 330
330 331
326 332
332 333
333 334
334 335
333 336
336 337
337 338
333 339
339 340
340 341
2 342
342 343
343 344
343 345
345 346
346 347
343 348
348 349
349 350
348 351
351 352
352 353
348 354
354 355
355 356
356 357
355 358
358 359
359 360
354 361
361 362
362 363
361 364
364 365
365 366
361 367
367 368
368 369
369 370
367 371
371 372
354 373
373 374
374 375
373 376
376 377
377 378
2 379
379 380
380 381
380 382
382 383
383 384
380 385
385 386
386 387
385 388
388 389
389 390
385 391
391 392
392 393
393 394
391 395
395 396
396 397
395 398
398 399
399 400
395 401
401 402
402 403
391 404
404 405
391 406
406 407
2 408
408 409
409 410
410 411
409 412
412 413
413 414
409 415
415 416
416 417
2 418
418 419
419 420
420 421
419 422
422 423
423 424
419 425
425 426
426 427
427 428
426 429
429 430
430 431
2 432
432 433
433 434
434 435
433 436
436 437
437 438
438 439
437 440
440 441
441 442
2 443
443 444
444 445
445 446
444 447
447 448
448 449
444 450
450 451
451 452
450 453
453 454
454 455
0 456
0 457
457 458
0 459
459 460
460 461
461 462

A customer subscribes to a service and terminates the subscription within a billing period. The value of a parameter is changed several times. In addition the assigned user is deassigned in one time unit and reassigned with a different role in another time unit. Two parameter changes are done while the user is deassigned. The parameter fees are charged in a "pro rata" way if parameter- or user role changes occur in a time unit. See examples 5 and 6 in requirement http://wwwi.est.fujitsu.com/confluence/x/4I7H
