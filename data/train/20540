108
0 root (MethodDeclaration)
1 body (BlockStmt)
2 statements
3 statement (ExpressionStmt)
4 expression (MethodCallExpr)
5 name (SimpleName)
6 identifier='addIgnoredException'
7 scope (NameExpr)
8 name (SimpleName)
9 identifier='IgnoredException'
10 arguments
11 argument (StringLiteralExpr)
12 value='java.net.ConnectException'
13 statement (ExpressionStmt)
14 expression (MethodCallExpr)
15 name (SimpleName)
16 identifier='createEntries'
17 statement (ExpressionStmt)
18 expression (MethodCallExpr)
19 name (SimpleName)
20 identifier='setClientServerObserverForBeforeSendingClientAck'
21 statement (ExpressionStmt)
22 expression (MethodCallExpr)
23 name (SimpleName)
24 identifier='invoke'
25 scope (NameExpr)
26 name (SimpleName)
27 identifier='server1'
28 arguments
29 argument (NullLiteralExpr)
30 statement (ExpressionStmt)
31 expression (MethodCallExpr)
32 name (SimpleName)
33 identifier='info'
34 scope (MethodCallExpr)
35 name (SimpleName)
36 identifier='getLogWriter'
37 scope (NameExpr)
38 name (SimpleName)
39 identifier='LogWriterUtils'
40 arguments
41 argument (StringLiteralExpr)
42 value='Entering waitForServerUpdate'
43 statement (ExpressionStmt)
44 expression (MethodCallExpr)
45 name (SimpleName)
46 identifier='waitForServerUpdate'
47 statement (ExpressionStmt)
48 expression (MethodCallExpr)
49 name (SimpleName)
50 identifier='info'
51 scope (MethodCallExpr)
52 name (SimpleName)
53 identifier='getLogWriter'
54 scope (NameExpr)
55 name (SimpleName)
56 identifier='LogWriterUtils'
57 arguments
58 argument (StringLiteralExpr)
59 value='Entering waitForCallback'
60 statement (ExpressionStmt)
61 expression (MethodCallExpr)
62 name (SimpleName)
63 identifier='waitForCallback'
64 statement (ExpressionStmt)
65 expression (MethodCallExpr)
66 name (SimpleName)
67 identifier='info'
68 scope (MethodCallExpr)
69 name (SimpleName)
70 identifier='getLogWriter'
71 scope (NameExpr)
72 name (SimpleName)
73 identifier='LogWriterUtils'
74 arguments
75 argument (StringLiteralExpr)
76 value='Entering waitForClientAck'
77 statement (ExpressionStmt)
78 expression (MethodCallExpr)
79 name (SimpleName)
80 identifier='waitForClientAck'
81 statement (ExpressionStmt)
82 expression (MethodCallExpr)
83 name (SimpleName)
84 identifier='invoke'
85 scope (NameExpr)
86 name (SimpleName)
87 identifier='server2'
88 arguments
89 argument (NullLiteralExpr)
90 type (VoidType)
91 name (SimpleName)
92 identifier='testPeriodicAckSendByClientPrimaryFailover'
93 thrownExceptions
94 thrownException (ClassOrInterfaceType)
95 name (SimpleName)
96 identifier='Exception'
97 annotations
98 annotation (SingleMemberAnnotationExpr)
99 memberValue (ClassExpr)
100 type (ClassOrInterfaceType)
101 name (SimpleName)
102 identifier='FlakyTest'
103 name (Name)
104 identifier='Category'
105 annotation (MarkerAnnotationExpr)
106 name (Name)
107 identifier='Test'
0 1
1 2
2 3
3 4
4 5
5 6
4 7
7 8
8 9
4 10
10 11
11 12
2 13
13 14
14 15
15 16
2 17
17 18
18 19
19 20
2 21
21 22
22 23
23 24
22 25
25 26
26 27
22 28
28 29
2 30
30 31
31 32
32 33
31 34
34 35
35 36
34 37
37 38
38 39
31 40
40 41
41 42
2 43
43 44
44 45
45 46
2 47
47 48
48 49
49 50
48 51
51 52
52 53
51 54
54 55
55 56
48 57
57 58
58 59
2 60
60 61
61 62
62 63
2 64
64 65
65 66
66 67
65 68
68 69
69 70
68 71
71 72
72 73
65 74
74 75
75 76
2 77
77 78
78 79
79 80
2 81
81 82
82 83
83 84
82 85
85 86
86 87
82 88
88 89
0 90
0 91
91 92
0 93
93 94
94 95
95 96
0 97
97 98
98 99
99 100
100 101
101 102
98 103
103 104
97 105
105 106
106 107

If the primary fails before receiving an ack from the messages it delivered then it should send an ack to the new primary so that new primary can sends QRM to other redundant servers.
