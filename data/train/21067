280
0 root (MethodDeclaration)
1 body (BlockStmt)
2 statements
3 statement (ExpressionStmt)
4 expression (MethodCallExpr)
5 name (SimpleName)
6 identifier='clearIndexWithReplication'
7 statement (ExpressionStmt)
8 expression (MethodCallExpr)
9 name (SimpleName)
10 identifier='index'
11 arguments
12 argument (NameExpr)
13 name (SimpleName)
14 identifier='masterClient'
15 argument (StringLiteralExpr)
16 value='id'
17 argument (StringLiteralExpr)
18 value='1'
19 argument (StringLiteralExpr)
20 value='name'
21 argument (StringLiteralExpr)
22 value='empty1'
23 statement (ExpressionStmt)
24 expression (MethodCallExpr)
25 name (SimpleName)
26 identifier='emptyUpdate'
27 arguments
28 argument (NameExpr)
29 name (SimpleName)
30 identifier='masterClient'
31 argument (StringLiteralExpr)
32 value='commit'
33 argument (StringLiteralExpr)
34 value='true'
35 statement (ExpressionStmt)
36 expression (MethodCallExpr)
37 name (SimpleName)
38 identifier='pullFromMasterToSlave'
39 statement (ExpressionStmt)
40 expression (MethodCallExpr)
41 name (SimpleName)
42 identifier='rQuery'
43 arguments
44 argument (IntegerLiteralExpr)
45 value='1'
46 argument (StringLiteralExpr)
47 value='name:empty1'
48 argument (NameExpr)
49 name (SimpleName)
50 identifier='slaveClient'
51 statement (ExpressionStmt)
52 expression (MethodCallExpr)
53 name (SimpleName)
54 identifier='assertVersions'
55 arguments
56 argument (NameExpr)
57 name (SimpleName)
58 identifier='masterClient'
59 argument (NameExpr)
60 name (SimpleName)
61 identifier='slaveClient'
62 statement (ExpressionStmt)
63 expression (MethodCallExpr)
64 name (SimpleName)
65 identifier='emptyUpdate'
66 arguments
67 argument (NameExpr)
68 name (SimpleName)
69 identifier='masterClient'
70 argument (StringLiteralExpr)
71 value='commit'
72 argument (StringLiteralExpr)
73 value='true'
74 statement (ExpressionStmt)
75 expression (MethodCallExpr)
76 name (SimpleName)
77 identifier='pullFromMasterToSlave'
78 statement (ExpressionStmt)
79 expression (MethodCallExpr)
80 name (SimpleName)
81 identifier='index'
82 arguments
83 argument (NameExpr)
84 name (SimpleName)
85 identifier='masterClient'
86 argument (StringLiteralExpr)
87 value='id'
88 argument (StringLiteralExpr)
89 value='2'
90 argument (StringLiteralExpr)
91 value='name'
92 argument (StringLiteralExpr)
93 value='empty2'
94 statement (ExpressionStmt)
95 expression (MethodCallExpr)
96 name (SimpleName)
97 identifier='emptyUpdate'
98 arguments
99 argument (NameExpr)
100 name (SimpleName)
101 identifier='masterClient'
102 argument (StringLiteralExpr)
103 value='commit'
104 argument (StringLiteralExpr)
105 value='true'
106 statement (ExpressionStmt)
107 expression (MethodCallExpr)
108 name (SimpleName)
109 identifier='pullFromMasterToSlave'
110 statement (ExpressionStmt)
111 expression (MethodCallExpr)
112 name (SimpleName)
113 identifier='rQuery'
114 arguments
115 argument (IntegerLiteralExpr)
116 value='1'
117 argument (StringLiteralExpr)
118 value='name:empty2'
119 argument (NameExpr)
120 name (SimpleName)
121 identifier='slaveClient'
122 statement (ExpressionStmt)
123 expression (MethodCallExpr)
124 name (SimpleName)
125 identifier='assertVersions'
126 arguments
127 argument (NameExpr)
128 name (SimpleName)
129 identifier='masterClient'
130 argument (NameExpr)
131 name (SimpleName)
132 identifier='slaveClient'
133 statement (ExpressionStmt)
134 expression (MethodCallExpr)
135 name (SimpleName)
136 identifier='index'
137 arguments
138 argument (NameExpr)
139 name (SimpleName)
140 identifier='masterClient'
141 argument (StringLiteralExpr)
142 value='id'
143 argument (StringLiteralExpr)
144 value='3'
145 argument (StringLiteralExpr)
146 value='name'
147 argument (StringLiteralExpr)
148 value='empty3'
149 statement (ExpressionStmt)
150 expression (MethodCallExpr)
151 name (SimpleName)
152 identifier='emptyUpdate'
153 arguments
154 argument (NameExpr)
155 name (SimpleName)
156 identifier='masterClient'
157 argument (StringLiteralExpr)
158 value='commit'
159 argument (StringLiteralExpr)
160 value='true'
161 argument (StringLiteralExpr)
162 value='openSearcher'
163 argument (StringLiteralExpr)
164 value='false'
165 statement (ExpressionStmt)
166 expression (MethodCallExpr)
167 name (SimpleName)
168 identifier='pullFromMasterToSlave'
169 statement (ExpressionStmt)
170 expression (MethodCallExpr)
171 name (SimpleName)
172 identifier='rQuery'
173 arguments
174 argument (IntegerLiteralExpr)
175 value='0'
176 argument (StringLiteralExpr)
177 value='name:empty3'
178 argument (NameExpr)
179 name (SimpleName)
180 identifier='masterClient'
181 statement (ExpressionStmt)
182 expression (MethodCallExpr)
183 name (SimpleName)
184 identifier='rQuery'
185 arguments
186 argument (IntegerLiteralExpr)
187 value='1'
188 argument (StringLiteralExpr)
189 value='name:empty3'
190 argument (NameExpr)
191 name (SimpleName)
192 identifier='slaveClient'
193 statement (ExpressionStmt)
194 expression (MethodCallExpr)
195 name (SimpleName)
196 identifier='index'
197 arguments
198 argument (NameExpr)
199 name (SimpleName)
200 identifier='masterClient'
201 argument (StringLiteralExpr)
202 value='id'
203 argument (StringLiteralExpr)
204 value='4'
205 argument (StringLiteralExpr)
206 value='name'
207 argument (StringLiteralExpr)
208 value='empty4'
209 statement (ExpressionStmt)
210 expression (MethodCallExpr)
211 name (SimpleName)
212 identifier='emptyUpdate'
213 arguments
214 argument (NameExpr)
215 name (SimpleName)
216 identifier='masterClient'
217 argument (StringLiteralExpr)
218 value='commit'
219 argument (StringLiteralExpr)
220 value='true'
221 statement (ExpressionStmt)
222 expression (MethodCallExpr)
223 name (SimpleName)
224 identifier='pullFromMasterToSlave'
225 statement (ExpressionStmt)
226 expression (VariableDeclarationExpr)
227 variables
228 variable (VariableDeclarator)
229 initializer (StringLiteralExpr)
230 value='name:(empty1 empty2 empty3 empty4)'
231 name (SimpleName)
232 identifier='q'
233 type (ClassOrInterfaceType)
234 name (SimpleName)
235 identifier='String'
236 statement (ExpressionStmt)
237 expression (MethodCallExpr)
238 name (SimpleName)
239 identifier='rQuery'
240 arguments
241 argument (IntegerLiteralExpr)
242 value='4'
243 argument (NameExpr)
244 name (SimpleName)
245 identifier='q'
246 argument (NameExpr)
247 name (SimpleName)
248 identifier='masterClient'
249 statement (ExpressionStmt)
250 expression (MethodCallExpr)
251 name (SimpleName)
252 identifier='rQuery'
253 arguments
254 argument (IntegerLiteralExpr)
255 value='4'
256 argument (NameExpr)
257 name (SimpleName)
258 identifier='q'
259 argument (NameExpr)
260 name (SimpleName)
261 identifier='slaveClient'
262 statement (ExpressionStmt)
263 expression (MethodCallExpr)
264 name (SimpleName)
265 identifier='assertVersions'
266 arguments
267 argument (NameExpr)
268 name (SimpleName)
269 identifier='masterClient'
270 argument (NameExpr)
271 name (SimpleName)
272 identifier='slaveClient'
273 type (VoidType)
274 name (SimpleName)
275 identifier='testEmptyCommits'
276 thrownExceptions
277 thrownException (ClassOrInterfaceType)
278 name (SimpleName)
279 identifier='Exception'
0 1
1 2
2 3
3 4
4 5
5 6
2 7
7 8
8 9
9 10
8 11
11 12
12 13
13 14
11 15
15 16
11 17
17 18
11 19
19 20
11 21
21 22
2 23
23 24
24 25
25 26
24 27
27 28
28 29
29 30
27 31
31 32
27 33
33 34
2 35
35 36
36 37
37 38
2 39
39 40
40 41
41 42
40 43
43 44
44 45
43 46
46 47
43 48
48 49
49 50
2 51
51 52
52 53
53 54
52 55
55 56
56 57
57 58
55 59
59 60
60 61
2 62
62 63
63 64
64 65
63 66
66 67
67 68
68 69
66 70
70 71
66 72
72 73
2 74
74 75
75 76
76 77
2 78
78 79
79 80
80 81
79 82
82 83
83 84
84 85
82 86
86 87
82 88
88 89
82 90
90 91
82 92
92 93
2 94
94 95
95 96
96 97
95 98
98 99
99 100
100 101
98 102
102 103
98 104
104 105
2 106
106 107
107 108
108 109
2 110
110 111
111 112
112 113
111 114
114 115
115 116
114 117
117 118
114 119
119 120
120 121
2 122
122 123
123 124
124 125
123 126
126 127
127 128
128 129
126 130
130 131
131 132
2 133
133 134
134 135
135 136
134 137
137 138
138 139
139 140
137 141
141 142
137 143
143 144
137 145
145 146
137 147
147 148
2 149
149 150
150 151
151 152
150 153
153 154
154 155
155 156
153 157
157 158
153 159
159 160
153 161
161 162
153 163
163 164
2 165
165 166
166 167
167 168
2 169
169 170
170 171
171 172
170 173
173 174
174 175
173 176
176 177
173 178
178 179
179 180
2 181
181 182
182 183
183 184
182 185
185 186
186 187
185 188
188 189
185 190
190 191
191 192
2 193
193 194
194 195
195 196
194 197
197 198
198 199
199 200
197 201
201 202
197 203
203 204
197 205
205 206
197 207
207 208
2 209
209 210
210 211
211 212
210 213
213 214
214 215
215 216
213 217
217 218
213 219
219 220
2 221
221 222
222 223
223 224
2 225
225 226
226 227
227 228
228 229
229 230
228 231
231 232
228 233
233 234
234 235
2 236
236 237
237 238
238 239
237 240
240 241
241 242
240 243
243 244
244 245
240 246
246 247
247 248
2 249
249 250
250 251
251 252
250 253
253 254
254 255
253 256
256 257
257 258
253 259
259 260
260 261
2 262
262 263
263 264
264 265
263 266
266 267
267 268
268 269
266 270
270 271
271 272
0 273
0 274
274 275
0 276
276 277
277 278
278 279

Verify that empty commits and/or commits with openSearcher=false  on the master do not cause subsequent replication problems on the slave
